<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sandboxRADIO - User Manual</title>
    <style>
        :root {
            --bg-color: #121212;
            --panel-bg: #1e1e1e;
            --text-main: #d4d4d4;
            --accent: #ea580c;
            --header-bg: #2b2b2b;
            --border: #444;
            --code-bg: #000;
            --kofi-color: #ff5f5f;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-main);
            line-height: 1.6;
            margin: 0;
            padding: 0;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header */
        .header {
            background: var(--header-bg);
            padding: 20px;
            border-bottom: 3px solid var(--accent);
            margin-bottom: 30px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .logo {
            font-weight: 900;
            font-size: 1.8rem;
            color: #fff;
            font-style: italic;
        }
        .logo span { color: var(--accent); }
        
        .version-tag {
            background: #333;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.8rem;
            font-family: monospace;
        }

        /* Typography */
        h1, h2, h3 { color: #fff; margin-top: 1.5em; }
        h1 { border-bottom: 1px solid var(--border); padding-bottom: 10px; }
        h2 { color: var(--accent); font-size: 1.4rem; }
        h3 { font-size: 1.1rem; border-left: 3px solid var(--accent); padding-left: 10px; background: rgba(255,255,255,0.05); padding-top: 5px; padding-bottom: 5px;}

        p { margin-bottom: 1em; }
        
        ul, ol { margin-bottom: 1.5em; color: #bbb; }
        ul { list-style-type: square; }
        li { margin-bottom: 0.5em; }
        
        strong { color: #fff; }
        code { background: var(--code-bg); padding: 2px 6px; border-radius: 3px; font-family: monospace; color: var(--accent); }

        /* Sections */
        .section {
            background: var(--panel-bg);
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            border: 1px solid var(--border);
        }

        .alert {
            background: rgba(234, 88, 12, 0.15);
            border-left: 4px solid var(--accent);
            padding: 15px;
            margin: 20px 0;
        }

        /* Quick Grid */
        .grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        @media(max-width: 700px) { .grid-2 { grid-template-columns: 1fr; } }

        .button-ref {
            display: inline-block;
            background: #333;
            border: 1px solid #555;
            color: #fff;
            padding: 2px 6px;
            border-radius: 3px;
            font-size: 0.8rem;
            font-weight: bold;
            text-transform: uppercase;
        }

        .btn-kofi {
            background: linear-gradient(to bottom, #4a2222, #331111);
            border: 1px solid var(--kofi-color);
            color: var(--kofi-color);
            padding: 10px 20px;
            text-decoration: none;
            border-radius: 5px;
            font-weight: bold;
            display: inline-block;
            margin-top: 10px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        .btn-kofi:hover { background: #552222; color: #fff; border-color: #fff; }

        footer {
            text-align: center;
            margin-top: 50px;
            font-size: 0.8rem;
            color: #666;
            padding-bottom: 20px;
        }
    </style>
</head>
<body>

    <div class="header">
        <div class="logo">sandbox<span>RADIO</span></div>
        <div class="version-tag">Manual v1.1.1</div>
    </div>

    <div class="container">

        <div class="section">
            <h1>Introduction</h1>
            <p><strong>sandboxRADIO</strong> is a high-fidelity, local-first WAV player and analysis tool. It runs entirely in your web browser and is designed for audio engineers, producers, and audiophiles who need to inspect, manage, and play uncompressed audio files without uploading them to a server.</p>
            <p>It features a persistent database that remembers your library, playlists, and analysis settings even after you close the browser.</p>
        </div>

        <div class="section">
            <h1>Interface & Layout</h1>
            <p>The sandboxRADIO interface is designed to be both powerful and accessible across all devices.</p>

            <h3>Top Deck Layout</h3>
            <p>The <strong>Top Deck</strong> is the main control bar at the top of the application. It contains the logo, version tag, and three button groups:</p>
            <ul>
                <li><strong>Files Group:</strong> <span class="button-ref">Load Folder</span> and <span class="button-ref">Load Files</span> for importing audio into your library.</li>
                <li><strong>System Group:</strong> <span class="button-ref">Backup System</span> and <span class="button-ref">Restore Backup</span> for saving and restoring your presets and queue settings.</li>
                <li><strong>Community Group:</strong> <span class="button-ref">Donate</span>, <span class="button-ref">Help</span>, and <span class="button-ref">GitHub</span> for support and contributions.</li>
            </ul>

            <h3>Button Groups</h3>
            <p>Buttons are organized into logical groups that wrap responsively on smaller screens. This ensures all controls remain accessible on mobile devices without horizontal scrolling.</p>

            <h3>Mobile Responsive Text</h3>
            <div class="alert">
                <strong>Note:</strong> On screens narrower than 1000 pixels, button labels are shortened for a compact layout:
            </div>
            <ul>
                <li>"Load Folder" → "Folder"</li>
                <li>"Load Files" → "Files"</li>
                <li>"Backup System" → "Backup"</li>
                <li>"Restore Backup" → "Restore"</li>
            </ul>
            <p>This allows the full interface to remain usable on smartphones and tablets.</p>
        </div>

        <div class="section">
            <h1>Importing from Cloud Services</h1>
            <p>Because sandboxRADIO is a <strong>local-first</strong> application, it cannot play files directly from the cloud (Dropbox, Google Drive, WeTransfer) via a URL. You must download the files to your device first.</p>

            <h3>WeTransfer / WeCollect</h3>
            <ol>
                <li>Open the WeTransfer link in your browser.</li>
                <li>Download the files. They usually arrive as a <code>.zip</code> file.</li>
                <li><strong>Crucial Step:</strong> You must unzip/extract the file.
                    <ul>
                        <li><em>iOS/Android:</em> Tap the Zip file in your "Files" app to extract it automatically.</li>
                        <li><em>Desktop:</em> Right-click and "Extract All".</li>
                    </ul>
                </li>
                <li>In sandboxRADIO, use <span class="button-ref">Load Files</span> and navigate to the unzipped folder.</li>
            </ol>

            <h3>Dropbox / Box / Google Drive</h3>
            <p><strong>On Desktop:</strong> If you have the desktop app installed, use <span class="button-ref">Load Folder</span> and select your synced Dropbox folder. If not, download the specific WAV files from the website to your computer first.</p>
            <p><strong>On iOS (iPhone/iPad):</strong></p>
            <ol>
                <li>Open the Dropbox/Box app and find your audio file.</li>
                <li>Tap the "..." (Options) menu and select <strong>Save to Device</strong> or <strong>Save to Files</strong>.</li>
                <li>Choose a folder "On My iPhone".</li>
                <li>Open sandboxRADIO, tap <span class="button-ref">Load Files</span>, choose "Choose Files", and navigate to where you saved it.</li>
            </ol>
        </div>

        <div class="section">
            <h1>Loading Files: Platform Specifics</h1>
            
            <h3>Desktop (Windows / Mac / Linux)</h3>
            <ul>
                <li><strong>Load Folder:</strong> Click <span class="button-ref">Load Folder</span> to select a directory. The player will scan for all <code>.wav</code> files.</li>
                <li><strong>Load Files:</strong> Select specific files. Hold <code>Ctrl</code> or <code>Cmd</code> to select multiple.</li>
                <li><strong>Drag & Drop:</strong> Drag files from your desktop directly into the "Library" panel.</li>
            </ul>

            <h3>iOS (iPhone / iPad)</h3>
            <div class="alert">
                <strong>Note:</strong> iOS requires you to select files via the system picker.
            </div>
            <ul>
                <li>Tap <span class="button-ref">Load Files</span> -> <strong>"Choose Files"</strong>.</li>
                <li>Navigate to "On My iPhone" or "iCloud Drive".</li>
                <li>Tap <strong>Select</strong> (top right), tap all the WAV files, then tap <strong>Open</strong>.</li>
            </ul>
        </div>

        <div class="section">
            <h1>Queue Management & Mastering Checks</h1>
            <p>sandboxRADIO is designed for checking album sequences and mastering continuity.</p>

            <h3>Reordering the Playlist</h3>
            <p>To change the order of tracks in the <strong>Active Queue</strong>:</p>
            <ul>
                <li><strong>Drag & Drop:</strong> Click and hold any track in the queue, drag it to a new position, and drop it.</li>
                <li><strong>Arrow Buttons:</strong> Hover over a track (or tap once on mobile) to reveal Up/Down arrows. Click them to nudge the track up or down the list one slot.</li>
            </ul>

            <h3>Testing Transitions (The "Test End" Feature)</h3>
            <p>When assembling an album, checking the transition from Track A to Track B is critical. You don't want to listen to the whole song every time.</p>
            <ol>
                <li>Ensure your tracks are in the correct order in the <strong>Active Queue</strong>.</li>
                <li>Set the <strong>Test End</strong> input box to <code>10</code> (seconds).</li>
                <li>Play the current track.</li>
                <li>Click the <span class="button-ref">Test End</span> button.</li>
                <li>The player jumps to 10 seconds before the end of the song.</li>
                <li>Listen as it finishes and seamlessly auto-plays the next track.</li>
                <li><em>Check:</em> Are the volume levels matched? Is the gap too long? Is the phase consistent?</li>
            </ol>

            <h3>Saving Presets</h3>
            <p>Once you are happy with a sequence order, click <span class="button-ref">SAVE NEW</span> in the Presets panel. This saves the *list* order (not the audio files). You can reload this sequence later instantly.</p>
        </div>

        <div class="section">
            <h1>The Meter Bridge & Analysis</h1>
            <p>Click the <span class="button-ref">Analysis: OFF</span> button to enable <strong>Analysis Mode</strong>. This activates the Web Audio API for real-time metering and visualization. The button will change to <span class="button-ref">Analysis: ON</span> when active.</p>
            <div class="alert">
                <strong>Note:</strong> On iOS devices, enabling Analysis Mode will show a confirmation dialog and enable the volume slider.
            </div>
            <div class="alert">
                <strong>⚠️ Important:</strong> Meters are POST-FADER. Adjusting the Volume slider will affect the LUFS and Peak readings. This design allows you to use the Volume Slider as a gain trim tool for simulation and A/B testing.
            </div>

            <div class="grid-2">
                <div>
                    <h3>Telemetry Meters</h3>
                    <ul>
                        <li><strong>LUFS (M):</strong> Momentary loudness (400ms window).</li>
                        <li><strong>LUFS (I):</strong> Integrated loudness (entire track average). Automatically resets on track change.</li>
                        <li><strong>PLR:</strong> Peak-to-Loudness Ratio (Dynamics). High = Dynamic, Low = Compressed.</li>
                        <li><strong>CORR:</strong> Phase Correlation (-1 to +1). Red indicates out-of-phase audio.</li>
                    </ul>
                </div>
                <div>
                    <h3>Peak Metering & Clipping</h3>
                    <ul>
                        <li><strong>VU Meters:</strong> Visual representation of Left/Right channel levels with peak hold indicators.</li>
                        <li><strong>MAX:</strong> Shows the highest dB peak hit during playback.</li>
                        <li><strong>Clip Lights:</strong> Red bars on the far right latch on if you hit 0dB.</li>
                        <li><strong>RST:</strong> Click the <code>RST</code> button located under the "MAX" label to clear the numeric value and turn off the red lights.</li>
                    </ul>
                </div>
            </div>

            <h3>The Lab (Visuals)</h3>
            <p>Click <span class="button-ref">LAB</span> to open the Analysis Lab panel. This requires Analysis Mode to be enabled.</p>
            <ul>
                <li><strong>Spectrum:</strong> Frequency Analyzer with logarithmic scale. Toggle between L/R view or Mid/Side view using the VIEW button.</li>
                <li><strong>Scope:</strong> Oscilloscope waveform view. Use the Timebase slider to zoom from 10ms (detail) to 5000ms (overview).</li>
                <li><strong>Vector:</strong> Stereo width visualizer (Goniometer) with correlation meter.</li>
                <li><strong>Waterfall:</strong> Spectrogram heatmap showing frequency content over time.</li>
            </ul>

            <h3>Post-Fader Metering & A/B Testing</h3>
            <p>One of the most powerful features of sandboxRADIO is the ability to <strong>simulate normalization</strong> without permanently altering your audio files. Because the meters are <strong>post-fader</strong>, the Volume Slider acts as a <strong>gain trim control</strong> that affects all meter readings in real-time.</p>
            
            <p><strong>Typical Workflow:</strong></p>
            <ol>
                <li>Load your master into sandboxRADIO and enable <span class="button-ref">Analysis: ON</span>.</li>
                <li>Play the track at 100% volume and observe the <strong>LUFS (I)</strong> reading.</li>
                <li>Lower the Volume Slider until the Integrated LUFS matches your target platform (e.g., -14 LUFS for Spotify).</li>
                <li>Check if the <strong>MAX</strong> peak meter exceeds -1.0 dBTP (True Peak limit).</li>
                <li>If your mix still clips at -14 LUFS, you may need to apply limiting or reduce the master level in your DAW.</li>
            </ol>

            <p>This allows you to <strong>A/B test</strong> how your mix will sound after streaming service normalization <em>before</em> you commit to re-rendering or applying additional processing.</p>

            <h3>2025 Streaming Service Targets</h3>
            <p>Use the table below as a reference when testing your masters. Most services normalize to these integrated loudness targets:</p>
            
            <table style="width: 100%; border-collapse: collapse; margin: 20px 0; background: rgba(255,255,255,0.05);">
                <thead>
                    <tr style="background: var(--header-bg); border-bottom: 2px solid var(--accent);">
                        <th style="padding: 12px; text-align: left; color: #fff; border: 1px solid var(--border);">Platform</th>
                        <th style="padding: 12px; text-align: center; color: #fff; border: 1px solid var(--border);">Target LUFS (I)</th>
                        <th style="padding: 12px; text-align: center; color: #fff; border: 1px solid var(--border);">True Peak Limit</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td style="padding: 10px; border: 1px solid var(--border);">Spotify</td>
                        <td style="padding: 10px; text-align: center; border: 1px solid var(--border); color: var(--accent); font-weight: bold;">-14 LUFS</td>
                        <td style="padding: 10px; text-align: center; border: 1px solid var(--border);">-1.0 dBTP</td>
                    </tr>
                    <tr style="background: rgba(255,255,255,0.02);">
                        <td style="padding: 10px; border: 1px solid var(--border);">Apple Music</td>
                        <td style="padding: 10px; text-align: center; border: 1px solid var(--border); color: var(--accent); font-weight: bold;">-16 LUFS</td>
                        <td style="padding: 10px; text-align: center; border: 1px solid var(--border);">-1.0 dBTP</td>
                    </tr>
                    <tr>
                        <td style="padding: 10px; border: 1px solid var(--border);">YouTube</td>
                        <td style="padding: 10px; text-align: center; border: 1px solid var(--border); color: var(--accent); font-weight: bold;">-14 LUFS</td>
                        <td style="padding: 10px; text-align: center; border: 1px solid var(--border);">-1.0 dBTP</td>
                    </tr>
                    <tr style="background: rgba(255,255,255,0.02);">
                        <td style="padding: 10px; border: 1px solid var(--border);">Tidal</td>
                        <td style="padding: 10px; text-align: center; border: 1px solid var(--border); color: var(--accent); font-weight: bold;">-14 LUFS</td>
                        <td style="padding: 10px; text-align: center; border: 1px solid var(--border);">-1.0 dBTP</td>
                    </tr>
                    <tr>
                        <td style="padding: 10px; border: 1px solid var(--border);">Amazon Music</td>
                        <td style="padding: 10px; text-align: center; border: 1px solid var(--border); color: var(--accent); font-weight: bold;">-14 LUFS</td>
                        <td style="padding: 10px; text-align: center; border: 1px solid var(--border);">-1.0 dBTP</td>
                    </tr>
                </tbody>
            </table>
            
            <div class="alert">
                <strong>Pro Tip:</strong> If your master hits -10 LUFS and you lower the volume to simulate -14 LUFS normalization, you're applying -4 dB of gain reduction. This is exactly what the streaming service will do automatically. Use this to check if your mix still sounds balanced and competitive at the target level.
            </div>
        </div>

        <div class="section">
            <h1>Community & Support</h1>
            <p>sandboxRADIO is free, open-source, and ad-free software. It is developed by an audio engineer for audio engineers.</p>
            
            <h3>GitHub Repository</h3>
            <p>Click the <span class="button-ref">GitHub</span> button in the Top Deck to visit the official repository. There you can:</p>
            <ul>
                <li>View the source code</li>
                <li>Report bugs or request features</li>
                <li>Contribute to development</li>
                <li>Star the project to show your support</li>
            </ul>

            <h3>Support Development</h3>
            <p>If this tool has helped your workflow, saved you time, or just made checking your mixes easier, consider buying me a coffee to support future updates!</p>
            
            <a href="https://ko-fi.com/blackcarburning" target="_blank" class="btn-kofi">☕ Buy Me a Coffee</a>
        </div>

        <div class="section">
            <h1>FAQ</h1>
            <ul>
                <li><strong>Why is there no sound on iOS in "Analysis Mode"?</strong><br> Ensure your physical ringer switch is not set to Silent. WebAudio on iOS respects the hardware mute switch.</li>
                <li><strong>How do I backup my library?</strong><br> Click <span class="button-ref">Backup System</span> -> "Save to File". This saves your playlist orders and settings. It does NOT save the actual WAV files.</li>
                <li><strong>Can I play MP3s?</strong><br> sandboxRADIO is optimized for <code>.wav</code> files for accurate metering. MP3s may work depending on your browser, but metering accuracy is not guaranteed.</li>
                <li><strong>Factory Reset?</strong><br> If the app freezes, look for the small "FACTORY RESET" text in the bottom right corner of the chassis screw.</li>
            </ul>
        </div>

    </div>

    <footer>
        &copy; 2025 sandboxRADIO Audio Tools. Local First.
    </footer>

</body>
</html>
